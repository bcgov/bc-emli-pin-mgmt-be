{
	"components": {
		"examples": {},
		"headers": {},
		"parameters": {},
		"requestBodies": {},
		"responses": {},
		"schemas": {
			"HelloWorldResponse": {
				"properties": {
					"message": {
						"type": "string"
					}
				},
				"required": [
					"message"
				],
				"type": "object",
				"additionalProperties": false
			},
			"createdPIN": {
				"description": "A PIN generated for a homeowner, checked for uniqueness against the database. Defaults to 8 character length and\nall numbers + lowercase letters as the character set.",
				"properties": {
					"pin": {
						"type": "string"
					}
				},
				"required": [
					"pin"
				],
				"type": "object",
				"additionalProperties": false,
				"example": "abcdefgh"
			},
			"pinRangeErrorType": {
				"description": "Generic range error that may occur when you give a value out of bounds to a pin function",
				"properties": {
					"message": {
						"type": "string"
					}
				},
				"required": [
					"message"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"message": "PIN must be of length 1 or greater"
				}
			},
			"serverErrorType": {
				"description": "Generic unknown server error",
				"properties": {
					"message": {
						"type": "string"
					}
				},
				"required": [
					"message"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"message": "Internal Server Error"
				}
			},
			"PIN": {
				"type": "string",
				"example": "abcdefgh",
				"description": "A PIN generated for a homeowner. Defaults to 8 character length and\nall numbers + lowercase letters as the character set."
			},
			"PINObject": {
				"description": "An object containing an array of unique, generated PINS",
				"properties": {
					"pins": {
						"items": {
							"$ref": "#/components/schemas/PIN"
						},
						"type": "array"
					}
				},
				"required": [
					"pins"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"pins": [
						"abcdefgh",
						"12345678"
					]
				}
			},
			"GeocoderAddress": {
				"description": "BC Geocoder address search result, including score, full address and site ID",
				"properties": {
					"score": {
						"type": "number",
						"format": "double"
					},
					"fullAddress": {
						"type": "string"
					},
					"siteID": {
						"type": "string"
					}
				},
				"required": [
					"score",
					"fullAddress",
					"siteID"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"score": 100,
					"fullAddress": "123 Example Street, City, BC",
					"siteID": "dc1111ba-1f11-111-1eda-111ca1f111c1"
				}
			},
			"getAddressResults": {
				"description": "An object containing an array of the BC Geocoder address search results.",
				"properties": {
					"results": {
						"items": {
							"$ref": "#/components/schemas/GeocoderAddress"
						},
						"type": "array"
					}
				},
				"required": [
					"results"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"results": [
						{
							"score": 100,
							"fullAddress": "123 Example Street, City, BC",
							"siteID": "dc1111ba-1f11-111-1eda-111ca1f111c1"
						}
					]
				}
			},
			"searchRangeErrorType": {
				"description": "Generic range error that may occur when you give a value out of bounds to a search function",
				"properties": {
					"message": {
						"type": "string"
					}
				},
				"required": [
					"message"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"message": "Search string must be of length 3 or greater"
				}
			},
			"geocoderReferenceErrorType": {
				"description": "Reference error that may occur when you have not defined the API environment variables for the geocoder functions",
				"properties": {
					"message": {
						"type": "string"
					}
				},
				"required": [
					"message"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"message": "Geocoder API base URL or 'addresses' endpoint URL is undefined."
				}
			},
			"propertyDetailsResponse": {
				"description": "An object containing property details",
				"properties": {},
				"type": "object",
				"additionalProperties": {
					"type": "string"
				},
				"example": {
					"pid": 1234567,
					"titleNumber": "12345",
					"landTitleDistrict": "AB",
					"givenName": "firstname",
					"lastName_1": "lastname",
					"lastName_2": null,
					"incorporationNumber": null,
					"addressLine_1": "123 Main Street",
					"addressLine_2": "",
					"city": "Vancouver",
					"province": "BC",
					"otherGeographicDivision": null,
					"country": "Canada",
					"postalCode": "A1B2C3"
				}
			},
			"unauthorizedError": {
				"description": "Unauthorized Error",
				"properties": {
					"message": {
						"type": "string"
					},
					"code": {
						"type": "number",
						"format": "double"
					}
				},
				"required": [
					"message",
					"code"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"message": "Unauthorized error",
					"code": 401
				}
			},
			"badRequestError": {
				"description": "Bad Request Error",
				"properties": {
					"message": {
						"type": "string"
					},
					"code": {
						"type": "number",
						"format": "double"
					}
				},
				"required": [
					"message",
					"code"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"message": "Bad request error",
					"code": 400
				}
			},
			"forbiddenError": {
				"description": "Forbidden Error",
				"properties": {
					"message": {
						"type": "string"
					},
					"code": {
						"type": "number",
						"format": "double"
					}
				},
				"required": [
					"message",
					"code"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"message": "Forbidden error",
					"code": 403
				}
			},
			"notFoundError": {
				"description": "Not Found Error",
				"properties": {
					"message": {
						"type": "string"
					},
					"code": {
						"type": "number",
						"format": "double"
					}
				},
				"required": [
					"message",
					"code"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"message": "Not found error",
					"code": 404
				}
			},
			"pidNotFound": {
				"description": "PID Not Found",
				"properties": {
					"message": {
						"type": "string"
					},
					"code": {
						"type": "number",
						"format": "double"
					}
				},
				"required": [
					"message",
					"code"
				],
				"type": "object",
				"additionalProperties": false,
				"example": {
					"message": "PID not found in database",
					"code": 204
				}
			}
		},
		"securitySchemes": {}
	},
	"info": {
		"title": "bc-emli-pin-mgmt-be",
		"version": "1.0.0",
		"description": "BC Virtual Home Energy Rating PIN Management System Backend",
		"license": {
			"name": "Apache-2.0"
		},
		"contact": {
			"name": "Government of British Columbia"
		}
	},
	"openapi": "3.0.0",
	"paths": {
		"/helloworld": {
			"get": {
				"operationId": "GetMessage",
				"responses": {
					"200": {
						"description": "Ok",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/HelloWorldResponse"
								}
							}
						}
					}
				},
				"security": [],
				"parameters": []
			}
		},
		"/pins/create": {
			"get": {
				"operationId": "GetPin",
				"responses": {
					"200": {
						"description": "An object containing the unique PIN",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/createdPIN"
								}
							}
						}
					},
					"422": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/pinRangeErrorType"
								}
							}
						}
					},
					"500": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/serverErrorType"
								}
							}
						}
					}
				},
				"description": "Used to create a single, unique PIN, checking against the DB to do so.\nExpected error codes and messages:\n- `422`\n-- `PIN must be of length 1 or greater`\n-- `Too many PIN creation attempts: consider expanding your pin length or character set to allow more unique PINs.`\n- `500`\n -- `Internal Server Error`",
				"security": [],
				"parameters": [
					{
						"description": "The length of each PIN. Defaults to 8 characters.",
						"in": "query",
						"name": "pinLength",
						"required": false,
						"schema": {
							"format": "double",
							"type": "number"
						}
					},
					{
						"description": "A string (not regex) of the characters to be used to\ngenerate the pin. Default is A-Z excluding O, and 1-9",
						"in": "query",
						"name": "allowedChars",
						"required": false,
						"schema": {
							"type": "string"
						}
					}
				]
			}
		},
		"/pins/initial-create": {
			"get": {
				"operationId": "GetInitialPins",
				"responses": {
					"200": {
						"description": "An object containing an array of the created, unique PINs",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/PINObject"
								}
							}
						}
					},
					"422": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/pinRangeErrorType"
								}
							}
						}
					},
					"500": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/serverErrorType"
								}
							}
						}
					}
				},
				"description": "Used for the initial creation of PINs, when none exist in the database yet.\nExpected error codes and messages:\n- `422`\n\t-- `PIN must be of length 1 or greater`\n\t-- `Quantity of PINs requested too high: guaranteed repeats for the given pin length and character set.`\n\t-- `The number of PINS created must be greater than 0.`\n- `500`\n\t-- `Internal Server Error`",
				"security": [],
				"parameters": [
					{
						"description": "The quantity of PINs you wish to create.",
						"in": "query",
						"name": "quantity",
						"required": true,
						"schema": {
							"format": "double",
							"type": "number"
						}
					},
					{
						"description": "The length of each PIN. Defaults to 8 characters.",
						"in": "query",
						"name": "pinLength",
						"required": false,
						"schema": {
							"format": "double",
							"type": "number"
						}
					},
					{
						"description": "A string (not regex) of the characters to be used to\ngenerate the pin. Default is A-Z excluding O, and 1-9",
						"in": "query",
						"name": "allowedChars",
						"required": false,
						"schema": {
							"type": "string"
						}
					}
				]
			}
		},
		"/properties/address/{address}": {
			"get": {
				"operationId": "GetSiteID",
				"responses": {
					"200": {
						"description": "An object with an array of search results.\nEach result contains the match score (from 50-100, 100 being a perfect match) of the result,\nthe full address of the property, and the siteID",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/getAddressResults"
								}
							}
						}
					},
					"422": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/geocoderReferenceErrorType"
								}
							}
						}
					},
					"500": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/serverErrorType"
								}
							}
						}
					}
				},
				"description": "Used to search for a siteID for a property, giving potentially multiple results.\nExpected error codes and messages:\n- `404`\n-- `Not Found` (when not passing in a path parameter as required)\n- `422`\n-- `Geocoder API base URL or 'addresses' endpoint URL is undefined.`\n-- `Search string must be of length 3 or greater`\n- `500`\n -- `Internal Server Error`",
				"security": [],
				"parameters": [
					{
						"description": "The address you wish to find the siteID for",
						"in": "path",
						"name": "address",
						"required": true,
						"schema": {
							"type": "string"
						}
					}
				]
			}
		},
		"/properties/details": {
			"get": {
				"operationId": "GetPropertyDetails",
				"responses": {
					"200": {
						"description": "An object containing the property owner details",
						"content": {
							"application/json": {
								"schema": {
									"items": {
										"$ref": "#/components/schemas/propertyDetailsResponse"
									},
									"type": "array"
								}
							}
						}
					},
					"204": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/pidNotFound"
								}
							}
						}
					},
					"400": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/badRequestError"
								}
							}
						}
					},
					"401": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/unauthorizedError"
								}
							}
						}
					},
					"403": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/forbiddenError"
								}
							}
						}
					},
					"404": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/notFoundError"
								}
							}
						}
					},
					"500": {
						"description": "",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/serverErrorType"
								}
							}
						}
					}
				},
				"description": "Used to get property owner details from a given a site ID\nStep 1: Call bc geocoder parcel API to get PIDs from site ID\nStep 2: Check database and return property details for properties with a matching PID\nExpected error codes and messages:\n- 200\n-- 'OK'\n- 204\n -- 'No Content'\n- 400\n -- 'Bad Request'\n- 401\n-- 'Unauthorized'\n- 403\n-- 'Forbidden'\n- 404\n-- 'Not Found'",
				"security": [],
				"parameters": [
					{
						"description": "The siteID of a site",
						"in": "query",
						"name": "siteID",
						"required": true,
						"schema": {
							"type": "string"
						}
					}
				]
			}
		}
	},
	"servers": [
		{
			"url": "/"
		}
	]
}